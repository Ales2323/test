<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator - Kleo Restaurant</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #1a1a2e;
            color: #e0e0e0;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #0f172a, #1e293b);
            color: white;
            padding: 30px;
            text-align: center;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .restaurant-name {
            font-size: 32px;
            font-weight: bold;
            color: #f39c12;
            margin-bottom: 10px;
        }

        .page-title {
            font-size: 18px;
            opacity: 0.9;
        }

        .generator-section {
            background: #1e1e2e;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            margin-bottom: 30px;
            border: 1px solid #374151;
        }

        .section-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
            border-bottom: 2px solid #f39c12;
            padding-bottom: 5px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #f39c12;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .generate-btn {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }

        .generate-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
        }

        .qr-display {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
            display: none;
        }

        .qr-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: left;
        }

        .qr-canvas {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            margin: 20px 0;
        }

        .download-section {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .download-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .print-btn {
            background: #3498db;
        }

        .bulk-generator {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .bulk-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .bulk-option {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .bulk-option:hover {
            background: #e9ecef;
            border-color: #f39c12;
        }

        .bulk-option.selected {
            background: #fff8f0;
            border-color: #f39c12;
        }

        .bulk-icon {
            font-size: 30px;
            color: #f39c12;
            margin-bottom: 10px;
        }

        .instruction-box {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
            margin-bottom: 20px;
        }

        .instruction-title {
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .download-section {
                flex-direction: column;
            }

            .bulk-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="restaurant-name">Kleo QR Generator</div>
            <div class="page-title">Generate QR Codes for Hotel Indigo Las Colinas</div>
        </div>

        <div class="instruction-box">
            <div class="instruction-title">
                <i class="fas fa-info-circle"></i> How to Use
            </div>
            <p>1. Generate QR codes for room service and poolside ordering<br>
            2. Print and place QR codes in guest rooms, pool areas, and common spaces<br>
            3. Guests scan codes with their phones to access the Kleo ordering system<br>
            4. Orders appear automatically in the admin dashboard</p>
        </div>

        <div class="generator-section">
            <div class="section-title">Single QR Code Generator</div>
            
            <div class="form-group">
                <label class="form-label" for="qrType">QR Code Type</label>
                <select id="qrType" class="form-select" onchange="updateFormFields()">
                    <option value="room">Room Service</option>
                    <option value="pool">Pool Service</option>
                    <option value="general">General Access</option>
                </select>
            </div>

            <div id="roomFields" class="form-group">
                <label class="form-label" for="roomNumber">Room Number</label>
                <input type="text" id="roomNumber" class="form-input" placeholder="e.g., 325">
            </div>

            <div id="poolFields" class="form-group" style="display: none;">
                <label class="form-label" for="poolLocation">Pool Location</label>
                <select id="poolLocation" class="form-select">
                    <option value="main-pool">Main Pool Area</option>
                    <option value="cabana-1">Cabana #1</option>
                    <option value="cabana-2">Cabana #2</option>
                    <option value="cabana-3">Cabana #3</option>
                    <option value="cabana-4">Cabana #4</option>
                    <option value="hot-tub">Hot Tub Area</option>
                    <option value="pool-bar">Pool Bar Seating</option>
                </select>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="qrSize">QR Code Size</label>
                    <select id="qrSize" class="form-select">
                        <option value="200">Small (200x200)</option>
                        <option value="300" selected>Medium (300x300)</option>
                        <option value="400">Large (400x400)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" for="qrLabel">Label Text</label>
                    <input type="text" id="qrLabel" class="form-input" placeholder="Optional label">
                </div>
            </div>

            <button class="generate-btn" onclick="generateQR()">
                <i class="fas fa-qrcode"></i> Generate QR Code
            </button>
        </div>

        <div class="qr-display" id="qrDisplay">
            <div class="section-title">Generated QR Code</div>
            
            <div class="qr-info" id="qrInfo">
                <!-- QR info will be displayed here -->
            </div>

            <canvas id="qrCanvas" class="qr-canvas"></canvas>

            <div class="download-section">
                <button class="download-btn" onclick="downloadQR()">
                    <i class="fas fa-download"></i> Download PNG
                </button>
                <button class="download-btn print-btn" onclick="printQR()">
                    <i class="fas fa-print"></i> Print
                </button>
            </div>
        </div>

        <div class="bulk-generator">
            <div class="section-title">Bulk QR Code Generator</div>
            
            <div class="bulk-options">
                <div class="bulk-option" onclick="generateBulk('all-rooms')">
                    <div class="bulk-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <h4>All Rooms</h4>
                    <p>Generate QR codes for all hotel rooms</p>
                </div>
                
                <div class="bulk-option" onclick="generateBulk('pool-areas')">
                    <div class="bulk-icon">
                        <i class="fas fa-swimming-pool"></i>
                    </div>
                    <h4>Pool Areas</h4>
                    <p>Generate QR codes for all pool locations</p>
                </div>
                
                <div class="bulk-option" onclick="generateBulk('floor-range')">
                    <div class="bulk-icon">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <h4>Floor Range</h4>
                    <p>Generate QR codes for specific floors</p>
                </div>
            </div>

            <div id="bulkInputs" style="display: none;">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="startRoom">Start Room</label>
                        <input type="text" id="startRoom" class="form-input" placeholder="e.g., 101">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="endRoom">End Room</label>
                        <input type="text" id="endRoom" class="form-input" placeholder="e.g., 150">
                    </div>
                </div>
                <button class="generate-btn" onclick="processBulkGeneration()">
                    <i class="fas fa-magic"></i> Generate Bulk QR Codes
                </button>
            </div>
        </div>
    </div>

    <script>
        let currentQR = null;
        let currentLabel = '';

        function updateFormFields() {
            const qrType = document.getElementById('qrType').value;
            const roomFields = document.getElementById('roomFields');
            const poolFields = document.getElementById('poolFields');

            if (qrType === 'room') {
                roomFields.style.display = 'block';
                poolFields.style.display = 'none';
            } else if (qrType === 'pool') {
                roomFields.style.display = 'none';
                poolFields.style.display = 'block';
            } else {
                roomFields.style.display = 'none';
                poolFields.style.display = 'none';
            }
        }

        function generateQR() {
            const qrType = document.getElementById('qrType').value;
            const qrSize = parseInt(document.getElementById('qrSize').value);
            const qrLabel = document.getElementById('qrLabel').value;
            
            let qrData = '';
            let infoText = '';

            if (qrType === 'room') {
                const roomNumber = document.getElementById('roomNumber').value;
                if (!roomNumber) {
                    alert('Please enter a room number');
                    return;
                }
                qrData = `${window.location.origin}/index.html?type=room&room=${roomNumber}`;
                infoText = `Room Service QR Code for Room ${roomNumber}`;
                currentLabel = qrLabel || `Room ${roomNumber} - Scan for Kleo Room Service`;
            } else if (qrType === 'pool') {
                const poolLocation = document.getElementById('poolLocation').value;
                qrData = `${window.location.origin}/index.html?type=pool&location=${poolLocation}`;
                infoText = `Pool Service QR Code for ${poolLocation.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())}`;
                currentLabel = qrLabel || `${poolLocation.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())} - Scan for Kleo Pool Service`;
            } else {
                qrData = `${window.location.origin}/index.html`;
                infoText = 'General Access QR Code for Kleo Restaurant';
                currentLabel = qrLabel || 'Scan for Kleo Restaurant Ordering';
            }

            // Generate QR code
            const canvas = document.getElementById('qrCanvas');
            currentQR = new QRious({
                element: canvas,
                value: qrData,
                size: qrSize,
                background: 'white',
                foreground: '#2c3e50',
                level: 'M'
            });

            // Update info display
            document.getElementById('qrInfo').innerHTML = `
                <strong>QR Code Information:</strong><br>
                <strong>Type:</strong> ${infoText}<br>
                <strong>URL:</strong> ${qrData}<br>
                <strong>Size:</strong> ${qrSize}x${qrSize} pixels<br>
                <strong>Label:</strong> ${currentLabel}
            `;

            // Show QR display
            document.getElementById('qrDisplay').style.display = 'block';
            document.getElementById('qrDisplay').scrollIntoView({ behavior: 'smooth' });
        }

        function downloadQR() {
            if (!currentQR) {
                alert('Please generate a QR code first');
                return;
            }

            const canvas = document.getElementById('qrCanvas');
            const link = document.createElement('a');
            link.download = `kleo-qr-${Date.now()}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }

        function printQR() {
            if (!currentQR) {
                alert('Please generate a QR code first');
                return;
            }

            const canvas = document.getElementById('qrCanvas');
            const printWindow = window.open('', '', 'width=600,height=600');
            
            printWindow.document.write(`
                <html>
                <head>
                    <title>Print QR Code - Kleo Restaurant</title>
                    <style>
                        body { 
                            font-family: Arial, sans-serif; 
                            text-align: center; 
                            padding: 20px; 
                        }
                        .header { 
                            margin-bottom: 20px; 
                        }
                        .qr-container { 
                            border: 2px solid #ccc; 
                            display: inline-block; 
                            padding: 20px; 
                            border-radius: 8px; 
                        }
                        .label { 
                            margin-top: 15px; 
                            font-size: 14px; 
                            font-weight: bold; 
                        }
                        .hotel-info { 
                            margin-top: 10px; 
                            font-size: 12px; 
                            color: #666; 
                        }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>Kleo Restaurant - Hotel Indigo Las Colinas</h2>
                    </div>
                    <div class="qr-container">
                        <img src="${canvas.toDataURL()}" alt="QR Code">
                        <div class="label">${currentLabel}</div>
                        <div class="hotel-info">
                            Scan with your phone camera to order
                        </div>
                    </div>
                </body>
                </html>
            `);
            
            printWindow.document.close();
            printWindow.print();
        }

        function generateBulk(type) {
            // Remove selected class from all options
            document.querySelectorAll('.bulk-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            event.target.closest('.bulk-option').classList.add('selected');

            const bulkInputs = document.getElementById('bulkInputs');
            
            if (type === 'floor-range') {
                bulkInputs.style.display = 'block';
            } else {
                bulkInputs.style.display = 'none';
                processBulkGeneration(type);
            }
        }

        function processBulkGeneration(bulkType) {
            const selectedOption = document.querySelector('.bulk-option.selected');
            if (!selectedOption && !bulkType) {
                alert('Please select a bulk generation option');
                return;
            }

            const type = bulkType || selectedOption.textContent.toLowerCase().replace(/\s+/g, '-');
            
            if (type.includes('floor-range')) {
                const startRoom = document.getElementById('startRoom').value;
                const endRoom = document.getElementById('endRoom').value;
                
                if (!startRoom || !endRoom) {
                    alert('Please enter start and end room numbers');
                    return;
                }
                
                generateRoomRange(startRoom, endRoom);
            } else if (type.includes('all-rooms')) {
                generateAllRooms();
            } else if (type.includes('pool-areas')) {
                generatePoolAreas();
            }
        }

        function generateRoomRange(start, end) {
            alert(`This would generate QR codes for rooms ${start} to ${end}. In a full implementation, this would create a ZIP file with all QR codes.`);
        }

        function generateAllRooms() {
            alert('This would generate QR codes for all hotel rooms (typically 100-500+ rooms). In a full implementation, this would create a ZIP file with all QR codes organized by floor.');
        }

        function generatePoolAreas() {
            alert('This would generate QR codes for all pool service areas. In a full implementation, this would create a ZIP file with QR codes for each pool location.');
        }
    </script>
</body>
</html>